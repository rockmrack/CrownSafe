{
  "timestamp": "2025-10-09T14:34:08.902634",
  "tests_run": 0,
  "tests_passed": 0,
  "tests_failed": 0,
  "tests_skipped": 0,
  "coverage_percentage": 0,
  "test_categories": {
    "1. Unit Tests - All Files": {
      "status": "failed",
      "returncode": 1,
      "stdout": "ehensive_500.py::TestComprehensiveSuite::test_database_connection\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_user_model_structure\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_database_session_creation\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_database_transaction_rollback\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_security_headers\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_empty_string_handling\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_very_long_input_handling\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_special_characters_handling\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_unicode_handling\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_null_byte_handling\nFAILED tests/api/crud/test_chat_memory.py::test_upsert_profile_update_existing\nFAILED tests/api/crud/test_chat_memory.py::test_get_or_create_conversation_new\nFAILED tests/api/crud/test_chat_memory.py::test_get_or_create_conversation_existing\nFAILED tests/api/crud/test_chat_memory.py::test_log_message - AttributeError:...\nFAILED tests/api/crud/test_chat_memory.py::test_profile_privacy_defaults - At...\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_for_user_no_conversations\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_for_user_with_conversations\nFAILED tests/api/crud/test_chat_memory_purge.py::test_mark_erase_requested_new_profile\nFAILED tests/api/crud/test_chat_memory_purge.py::test_mark_erase_requested_existing_profile\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_cascade_delete\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_multiple_users\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_cheese_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_toy_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_cosmetic_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_food_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_generic_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_profile_based_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_emergency_phrase_triggers_red_strip\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_unclear_intent_provides_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_empty_state_adds_helpful_checks\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_unclear_loop_prevention\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_without_auth\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_sync_mode\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_with_celery_task\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_fallback_to_sync\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_no_conversations\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_trace_id_header\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_blocked_when_chat_disabled_globally\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_blocked_when_user_not_in_rollout\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_allowed_when_user_in_rollout\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_explain_result_not_gated\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_feature_gating_uses_user_and_device_ids\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_default_values\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_enabled\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_full_rollout\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_zero_rollout\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_explain_result_with_real_scan_data\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_conversation_with_real_scan_data\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_explain_result_scan_not_found\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_conversation_scan_not_found\n!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 50 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n=========== 50 failed, 168 passed, 5 skipped, 11 warnings in 8.00s ============\n",
      "stderr": ""
    },
    "2. Unit Tests with Coverage": {
      "status": "timeout",
      "returncode": -1
    },
    "3. Integration Tests": {
      "status": "passed",
      "returncode": 0,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 106 items\n\ntests\\deep\\test_api_responses_deep.py ....................               [ 18%]\ntests\\deep\\test_authentication_deep.py ...................               [ 36%]\ntests\\deep\\test_conversation_deep.py ...............                     [ 50%]\ntests\\deep\\test_database_deep.py .................                       [ 66%]\ntests\\deep\\test_integration_deep.py ....................                 [ 85%]\ntests\\deep\\test_performance_deep.py ...............                      [100%]\n\n============================== warnings summary ===============================\ntests/deep/test_integration_deep.py::TestIntegrationDeep::test_openapi_schema_generation\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\fastapi\\openapi\\utils.py:207: UserWarning: Duplicate Operation ID get_metrics_metrics for function get_metrics at C:\\code\\babyshield-backend\\api\\main_babyshield.py\n    warnings.warn(message, stacklevel=1)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n======================= 106 passed, 1 warning in 9.36s ========================\n",
      "stderr": ""
    },
    "4. API Endpoint Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "existing_profile\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_cascade_delete\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_multiple_users\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_cheese_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_toy_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_cosmetic_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_food_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_generic_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_profile_based_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_emergency_phrase_triggers_red_strip\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_unclear_intent_provides_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_empty_state_adds_helpful_checks\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_unclear_loop_prevention\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_without_auth\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_sync_mode\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_with_celery_task\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_fallback_to_sync\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_no_conversations\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_trace_id_header\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_blocked_when_chat_disabled_globally\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_blocked_when_user_not_in_rollout\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_allowed_when_user_in_rollout\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_explain_result_not_gated\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_feature_gating_uses_user_and_device_ids\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_default_values\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_enabled\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_full_rollout\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_zero_rollout\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_explain_result_with_real_scan_data\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_conversation_with_real_scan_data\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_explain_result_scan_not_found\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_conversation_scan_not_found\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_defensive_defaults_with_minimal_scan_data\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackEndpoint::test_explain_feedback_missing_scan_id\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackEndpoint::test_explain_feedback_missing_helpful\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackEndpoint::test_explain_feedback_invalid_field_lengths\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackEndpoint::test_explain_feedback_database_error\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackValidation::test_helpful_boolean_validation\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackValidation::test_scan_id_empty_string\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_cheese_alternatives\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_sleep_surface_alternatives\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_small_parts_toy_alternatives\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_cosmetic_pregnancy_alternatives\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_high_mercury_fish_alternatives\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_max_three_alternatives_limit\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_feature_flag_enabled_by_default\nFAILED tests/api/services/test_alternatives_provider.py::TestAlternativesProvider::test_evidence_structure\n================== 55 failed, 42 passed, 7 warnings in 5.10s ==================\n",
      "stderr": ""
    },
    "5. Security Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "load_validates_file_size __\nfile C:\\code\\babyshield-backend\\tests\\security\\test_security_vulnerabilities.py, line 268\n      def test_file_upload_validates_file_size(self, client, auth_token):\nE       fixture 'client' not found\n>       available fixtures: anyio_backend, anyio_backend_name, anyio_backend_options, assert_all_responses_were_requested, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, cov, doctest_namespace, event_loop, expired_token, httpx_mock, monkeypatch, no_cover, non_mocked_hosts, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, regular_user_token, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, user1_token, user2_id, valid_token\n>       use 'pytest --fixtures [testpath]' for help on them.\n\nC:\\code\\babyshield-backend\\tests\\security\\test_security_vulnerabilities.py:268\n_______ ERROR at setup of TestSecurityHeaders.test_hsts_header_present ________\nfile C:\\code\\babyshield-backend\\tests\\security\\test_security_vulnerabilities.py, line 287\n      def test_hsts_header_present(self, client):\nE       fixture 'client' not found\n>       available fixtures: anyio_backend, anyio_backend_name, anyio_backend_options, assert_all_responses_were_requested, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, cov, doctest_namespace, event_loop, expired_token, httpx_mock, monkeypatch, no_cover, non_mocked_hosts, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, regular_user_token, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, user1_token, user2_id, valid_token\n>       use 'pytest --fixtures [testpath]' for help on them.\n\nC:\\code\\babyshield-backend\\tests\\security\\test_security_vulnerabilities.py:287\n_ ERROR at setup of TestSecurityHeaders.test_content_security_policy_configured _\nfile C:\\code\\babyshield-backend\\tests\\security\\test_security_vulnerabilities.py, line 300\n      def test_content_security_policy_configured(self, client):\nE       fixture 'client' not found\n>       available fixtures: anyio_backend, anyio_backend_name, anyio_backend_options, assert_all_responses_were_requested, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, cov, doctest_namespace, event_loop, expired_token, httpx_mock, monkeypatch, no_cover, non_mocked_hosts, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, regular_user_token, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, user1_token, user2_id, valid_token\n>       use 'pytest --fixtures [testpath]' for help on them.\n\nC:\\code\\babyshield-backend\\tests\\security\\test_security_vulnerabilities.py:300\n=========================== short test summary info ===========================\nERROR tests/security/test_security_vulnerabilities.py::TestSQLInjection::test_search_with_sql_injection_attempt_blocked\nERROR tests/security/test_security_vulnerabilities.py::TestSQLInjection::test_user_input_with_sql_injection_sanitized\nERROR tests/security/test_security_vulnerabilities.py::TestXSSProtection::test_product_name_with_script_tag_sanitized\nERROR tests/security/test_security_vulnerabilities.py::TestXSSProtection::test_response_headers_prevent_xss\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_protected_endpoint_without_auth_returns_401\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_expired_token_rejected\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_tampered_token_rejected\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_brute_force_protection_active\nERROR tests/security/test_security_vulnerabilities.py::TestAuthorization::test_user_cannot_access_other_users_data\nERROR tests/security/test_security_vulnerabilities.py::TestAuthorization::test_regular_user_cannot_access_admin_endpoints\nERROR tests/security/test_security_vulnerabilities.py::TestCSRFProtection::test_state_changing_requests_require_csrf_token\nERROR tests/security/test_security_vulnerabilities.py::TestRateLimiting::test_api_rate_limit_per_user_enforced\nERROR tests/security/test_security_vulnerabilities.py::TestRateLimiting::test_ip_based_rate_limiting_for_public_endpoints\nERROR tests/security/test_security_vulnerabilities.py::TestInputValidation::test_file_upload_validates_file_type\nERROR tests/security/test_security_vulnerabilities.py::TestInputValidation::test_file_upload_validates_file_size\nERROR tests/security/test_security_vulnerabilities.py::TestSecurityHeaders::test_hsts_header_present\nERROR tests/security/test_security_vulnerabilities.py::TestSecurityHeaders::test_content_security_policy_configured\n============================= 17 errors in 0.03s ==============================\n",
      "stderr": ""
    },
    "6. Database Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "lass 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n\ntests\\api\\crud\\test_chat_memory.py:20\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:20: PytestCollectionWarning: cannot collect test class 'TestUserProfile' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestUserProfile(TestBase):\n\ntests\\api\\crud\\test_chat_memory.py:33\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:33: PytestCollectionWarning: cannot collect test class 'TestConversation' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestConversation(TestBase):\n\ntests\\api\\crud\\test_chat_memory.py:42\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:42: PytestCollectionWarning: cannot collect test class 'TestConversationMessage' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestConversationMessage(TestBase):\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory_purge.py)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory_simple.py)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184: UserWarning: Field name \"schema\" shadows an attribute in parent \"BaseModel\"; \n    warnings.warn(\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_at from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_by from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute is_deleted from non-mapped class TestModel\n    return getattr(object, name, default)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nSKIPPED [1] tests\\production\\test_database_prod.py:159: Table 'users' not found in SQLite (development mode)\nSKIPPED [1] tests\\production\\test_database_prod.py:197: Could not check migration status: (sqlite3.OperationalError) near \"FROM\": syntax error\n[SQL: SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'alembic_version')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\nSKIPPED [1] tests\\production\\test_database_prod.py:309: Large result set test skipped: (sqlite3.OperationalError) no such function: generate_series\n[SQL: SELECT generate_series(1, 1000) as num]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\nSKIPPED [1] tests\\production\\test_database_prod.py:349: Running with SQLite in development mode (DATABASE_URL not required)\nSKIPPED [1] tests\\production\\test_database_prod.py:384: Connection limit check skipped: (sqlite3.OperationalError) no such table: pg_stat_activity\n[SQL: \n                SELECT count(*) as conn_count \n                FROM pg_stat_activity \n                WHERE datname = current_database()\n            ]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_database_connection\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_database_session_creation\nFAILED tests/test_comprehensive_500.py::TestComprehensiveSuite::test_database_transaction_rollback\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackEndpoint::test_explain_feedback_database_error\nFAILED tests/unit/test_chat_memory.py::TestDatabaseCompatibility::test_json_type_selection\nFAILED tests/unit/test_chat_memory.py::TestDatabaseCompatibility::test_uuid_type_selection\n==== 6 failed, 40 passed, 5 skipped, 705 deselected, 10 warnings in 9.11s =====\n",
      "stderr": ""
    },
    "7. Authentication Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "n_babyshield.py:1545 [trace_1760013896__api_v1_auth_register] Validation error: Missing required parameter: body.confirm_password\n_____ TestAuthenticationFlow.test_user_profile_access_with_authentication _____\ntests\\integration\\test_api_endpoints.py:78: in test_user_profile_access_with_authentication\n    token = authenticated_user[\"access_token\"]\nE   TypeError: 'NoneType' object is not subscriptable\n============================== warnings summary ===============================\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n\ntests\\api\\crud\\test_chat_memory.py:20\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:20: PytestCollectionWarning: cannot collect test class 'TestUserProfile' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestUserProfile(TestBase):\n\ntests\\api\\crud\\test_chat_memory.py:33\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:33: PytestCollectionWarning: cannot collect test class 'TestConversation' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestConversation(TestBase):\n\ntests\\api\\crud\\test_chat_memory.py:42\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:42: PytestCollectionWarning: cannot collect test class 'TestConversationMessage' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestConversationMessage(TestBase):\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory_purge.py)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory_simple.py)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184: UserWarning: Field name \"schema\" shadows an attribute in parent \"BaseModel\"; \n    warnings.warn(\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_at from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_by from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute is_deleted from non-mapped class TestModel\n    return getattr(object, name, default)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_protected_endpoint_without_auth_returns_401\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_expired_token_rejected\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_tampered_token_rejected\nERROR tests/security/test_security_vulnerabilities.py::TestAuthentication::test_brute_force_protection_active\nERROR tests/security/test_security_vulnerabilities.py::TestAuthorization::test_user_cannot_access_other_users_data\nERROR tests/security/test_security_vulnerabilities.py::TestAuthorization::test_regular_user_cannot_access_admin_endpoints\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_without_auth\nFAILED tests/integration/test_api_endpoints.py::TestAuthenticationFlow::test_complete_user_registration_and_login_flow\nFAILED tests/integration/test_api_endpoints.py::TestAuthenticationFlow::test_user_profile_access_with_authentication\n===== 3 failed, 44 passed, 703 deselected, 10 warnings, 6 errors in 5.10s =====\n",
      "stderr": ""
    },
    "8. Chat/Conversation Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "tion_last_activity_update\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_message_role_validation\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_message_intent_field\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_message_trace_id_field\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_user_profile_pregnancy_fields\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_user_profile_allergies_edge_cases\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_conversation_scan_id_field\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_message_auto_increment_id\nFAILED tests/api/crud/test_chat_memory.py::test_upsert_profile_update_existing\nFAILED tests/api/crud/test_chat_memory.py::test_get_or_create_conversation_new\nFAILED tests/api/crud/test_chat_memory.py::test_get_or_create_conversation_existing\nFAILED tests/api/crud/test_chat_memory.py::test_log_message - AttributeError:...\nFAILED tests/api/crud/test_chat_memory.py::test_profile_privacy_defaults - At...\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_for_user_no_conversations\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_for_user_with_conversations\nFAILED tests/api/crud/test_chat_memory_purge.py::test_mark_erase_requested_new_profile\nFAILED tests/api/crud/test_chat_memory_purge.py::test_mark_erase_requested_existing_profile\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_cascade_delete\nFAILED tests/api/crud/test_chat_memory_purge.py::test_purge_conversations_multiple_users\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_cheese_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_toy_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_cosmetic_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_food_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_generic_category_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestSuggestedQuestions::test_profile_based_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_emergency_phrase_triggers_red_strip\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_unclear_intent_provides_suggestions\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_empty_state_adds_helpful_checks\nFAILED tests/api/routers/test_chat_emergency.py::TestEmergencyEndToEnd::test_unclear_loop_prevention\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_without_auth\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_sync_mode\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_with_celery_task\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_fallback_to_sync\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_no_conversations\nFAILED tests/api/routers/test_chat_erase_history.py::test_erase_history_trace_id_header\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_blocked_when_chat_disabled_globally\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_blocked_when_user_not_in_rollout\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_conversation_allowed_when_user_in_rollout\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_explain_result_not_gated\nFAILED tests/api/routers/test_chat_feature_gating.py::TestChatFeatureGating::test_feature_gating_uses_user_and_device_ids\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_default_values\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_enabled\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_full_rollout\nFAILED tests/api/routers/test_chat_flags.py::TestChatFlags::test_chat_flags_zero_rollout\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_explain_result_with_real_scan_data\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_conversation_with_real_scan_data\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_explain_result_scan_not_found\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_conversation_scan_not_found\nFAILED tests/api/routers/test_chat_real_data.py::TestChatWithRealData::test_defensive_defaults_with_minimal_scan_data\nFAILED tests/unit/test_chat_memory.py::TestDatabaseCompatibility::test_json_type_selection\nFAILED tests/unit/test_chat_memory.py::TestDatabaseCompatibility::test_uuid_type_selection\n= 43 failed, 62 passed, 1 skipped, 631 deselected, 10 warnings, 19 errors in 15.26s =\n",
      "stderr": ""
    },
    "9. Agent Tests": {
      "status": "passed",
      "returncode": 0,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 16 items\n\ntests\\agents\\chat\\test_jurisdiction_evidence.py ....                     [ 25%]\ntests\\agents\\chat\\test_router_intent.py ............                     [100%]\n\n============================= 16 passed in 0.20s ==============================\n",
      "stderr": ""
    },
    "10. Performance Tests": {
      "status": "passed",
      "returncode": 0,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 15 items\n\ntests\\deep\\test_performance_deep.py ...............                      [100%]\n\n============================== warnings summary ===============================\ntests/deep/test_performance_deep.py::TestPerformanceDeep::test_large_response_handling\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\fastapi\\openapi\\utils.py:207: UserWarning: Duplicate Operation ID get_metrics_metrics for function get_metrics at C:\\code\\babyshield-backend\\api\\main_babyshield.py\n    warnings.warn(message, stacklevel=1)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n======================== 15 passed, 1 warning in 3.92s ========================\n",
      "stderr": ""
    },
    "11. Smoke Tests (Local)": {
      "status": "failed",
      "returncode": 5,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 0 items\n\n============================ no tests ran in 3.41s ============================\n",
      "stderr": ""
    },
    "12. Import Tests": {
      "status": "failed",
      "returncode": 3,
      "stdout": ">   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 167, in _multicall\nINTERNALERROR>     raise exception\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\nINTERNALERROR>     teardown.throw(exception)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 53, in run_old_style_hookwrapper\nINTERNALERROR>     return result.get_result()\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_result.py\", line 103, in get_result\nINTERNALERROR>     raise exc.with_traceback(tb)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 38, in run_old_style_hookwrapper\nINTERNALERROR>     res = yield\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 121, in _multicall\nINTERNALERROR>     res = hook_impl.function(*args)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\main.py\", line 350, in pytest_runtestloop\nINTERNALERROR>     item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_hooks.py\", line 512, in __call__\nINTERNALERROR>     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\nINTERNALERROR>     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 167, in _multicall\nINTERNALERROR>     raise exception\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\nINTERNALERROR>     teardown.throw(exception)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 43, in run_old_style_hookwrapper\nINTERNALERROR>     teardown.send(result)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\warnings.py\", line 106, in pytest_runtest_protocol\nINTERNALERROR>     with catch_warnings_for_item(\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\contextlib.py\", line 142, in __exit__\nINTERNALERROR>     next(self.gen)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\warnings.py\", line 64, in catch_warnings_for_item\nINTERNALERROR>     ihook.pytest_warning_recorded.call_historic(\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_hooks.py\", line 534, in call_historic\nINTERNALERROR>     res = self._hookexec(self.name, self._hookimpls.copy(), kwargs, False)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\nINTERNALERROR>     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 167, in _multicall\nINTERNALERROR>     raise exception\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 121, in _multicall\nINTERNALERROR>     res = hook_impl.function(*args)\nINTERNALERROR>   File \"C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\terminal.py\", line 535, in pytest_warning_recorded\nINTERNALERROR>     from _pytest.warnings import warning_record_to_str\nINTERNALERROR>   File \"C:\\code\\babyshield-backend\\tests\\unit\\test_guideline_agent.py\", line 67, in import_side_effect\nINTERNALERROR>     return __import__(name, globals, locals, fromlist, level)\nINTERNALERROR>   File \"C:\\code\\babyshield-backend\\tests\\unit\\test_guideline_agent.py\", line 67, in import_side_effect\nINTERNALERROR>     return __import__(name, globals, locals, fromlist, level)\nINTERNALERROR>   File \"C:\\code\\babyshield-backend\\tests\\unit\\test_guideline_agent.py\", line 67, in import_side_effect\nINTERNALERROR>     return __import__(name, globals, locals, fromlist, level)\nINTERNALERROR>   [Previous line repeated 963 more times]\nINTERNALERROR>   File \"C:\\code\\babyshield-backend\\tests\\unit\\test_guideline_agent.py\", line 59, in import_side_effect\nINTERNALERROR>     if name == \"agents.guideline_agent.enhanced_memory_manager\":\nINTERNALERROR> RecursionError: maximum recursion depth exceeded in comparison\n\n=============== 32 passed, 722 deselected, 10 warnings in 4.31s ===============\n",
      "stderr": "C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\main.py:350: PluggyTeardownRaisedWarning: A plugin raised an exception during an old-style hookwrapper teardown.\nPlugin: warnings, Hook: pytest_runtest_protocol\nRecursionError: maximum recursion depth exceeded in comparison\nFor more information see https://pluggy.readthedocs.io/en/stable/api_reference.html#pluggy.PluggyTeardownRaisedWarning\n"
    },
    "13. Validation Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "------\nWARNING  agents.guideline_agent.agent_logic:agent_logic.py:38 Could not initialize EnhancedMemoryManager: No module named 'chromadb'\n============================== warnings summary ===============================\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n\ntests\\api\\crud\\test_chat_memory.py:20\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:20: PytestCollectionWarning: cannot collect test class 'TestUserProfile' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestUserProfile(TestBase):\n\ntests\\api\\crud\\test_chat_memory.py:33\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:33: PytestCollectionWarning: cannot collect test class 'TestConversation' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestConversation(TestBase):\n\ntests\\api\\crud\\test_chat_memory.py:42\n  C:\\code\\babyshield-backend\\tests\\api\\crud\\test_chat_memory.py:42: PytestCollectionWarning: cannot collect test class 'TestConversationMessage' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory.py)\n    class TestConversationMessage(TestBase):\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory_purge.py)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\sqlalchemy\\orm\\decl_api.py:0: PytestCollectionWarning: cannot collect test class 'Base' because it has a __init__ constructor (from: tests/api/crud/test_chat_memory_simple.py)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184: UserWarning: Field name \"schema\" shadows an attribute in parent \"BaseModel\"; \n    warnings.warn(\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_at from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_by from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute is_deleted from non-mapped class TestModel\n    return getattr(object, name, default)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nSKIPPED [6] tests\\\\unit\\\\test_barcode_service.py: \\u26a0\\ufe0f Test stubs - awaiting implementation. Skipped to prevent false coverage.\nSKIPPED [18] tests\\\\unit\\\\test_validators.py: \\u26a0\\ufe0f Test stubs - awaiting implementation. Skipped to prevent false coverage.\nERROR tests/security/test_security_vulnerabilities.py::TestInputValidation::test_file_upload_validates_file_type\nERROR tests/security/test_security_vulnerabilities.py::TestInputValidation::test_file_upload_validates_file_size\nERROR tests/unit/test_chat_memory.py::TestChatMemoryModels::test_message_role_validation\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackValidation::test_helpful_boolean_validation\nFAILED tests/api/routers/test_explain_feedback.py::TestExplainFeedbackValidation::test_scan_id_empty_string\nFAILED tests/unit/test_guideline_agent.py::TestGuidelineAgentLogic::test_validate_message_structure_valid\nFAILED tests/unit/test_guideline_agent.py::TestGuidelineAgentLogic::test_validate_message_structure_missing_header\nFAILED tests/unit/test_guideline_agent.py::TestGuidelineAgentLogic::test_validate_message_structure_missing_payload\nFAILED tests/unit/test_guideline_agent.py::TestGuidelineAgentLogic::test_validate_message_structure_missing_task_id\n= 6 failed, 52 passed, 24 skipped, 671 deselected, 10 warnings, 3 errors in 5.56s =\n",
      "stderr": ""
    },
    "14. Encryption Tests": {
      "status": "passed",
      "returncode": 0,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 3 items\n\ntests\\test_encryption.py ss.                                             [100%]\n\n=========================== short test summary info ===========================\nSKIPPED [1] tests\\test_encryption.py:24: decrypt function not found\nSKIPPED [1] tests\\test_encryption.py:16: encrypt function not found\n======================== 1 passed, 2 skipped in 0.32s =========================\n",
      "stderr": ""
    },
    "15. Error Handler Tests": {
      "status": "passed",
      "returncode": 0,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 2 items\n\ntests\\test_error_handlers.py .s                                          [100%]\n\n=========================== short test summary info ===========================\nSKIPPED [1] tests\\test_error_handlers.py:16: handle_error function not found\n======================== 1 passed, 1 skipped in 0.56s =========================\n",
      "stderr": ""
    },
    "16. Barcode Scanner Tests": {
      "status": "failed",
      "returncode": 1,
      "stdout": "xtlib.py:135: in __enter__\n    return next(self.gen)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1358: in decoration_helper\n    arg = exit_stack.enter_context(patching)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\contextlib.py:492: in enter_context\n    result = _cm_type.__enter__(cm)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1447: in __enter__\n    original, local = self.get_original()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1420: in get_original\n    raise AttributeError(\nE   AttributeError: <module 'core_infra.barcode_scanner_enhanced' from 'C:\\\\code\\\\babyshield-backend\\\\core_infra\\\\barcode_scanner_enhanced.py'> does not have the attribute 'pyzbar'\n__________ TestEnhancedBarcodeScanner.test_generate_barcode_success ___________\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1376: in patched\n    with self.decoration_helper(patched,\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\contextlib.py:135: in __enter__\n    return next(self.gen)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1358: in decoration_helper\n    arg = exit_stack.enter_context(patching)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\contextlib.py:492: in enter_context\n    result = _cm_type.__enter__(cm)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1447: in __enter__\n    original, local = self.get_original()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1420: in get_original\n    raise AttributeError(\nE   AttributeError: <module 'core_infra.barcode_scanner_enhanced' from 'C:\\\\code\\\\babyshield-backend\\\\core_infra\\\\barcode_scanner_enhanced.py'> does not have the attribute 'python_barcode'\n_______________ TestGlobalFunctions.test_scan_barcode_function ________________\ntests\\unit\\test_barcode_scanner_enhanced.py:446: in test_scan_barcode_function\n    assert results[0].data == \"test_data\"\nE   AttributeError: 'dict' object has no attribute 'data'\n_______________ TestEdgeCases.test_generate_barcode_empty_data ________________\ntests\\unit\\test_barcode_scanner_enhanced.py:522: in test_generate_barcode_empty_data\n    with patch('core_infra.barcode_scanner_enhanced.python_barcode'):\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1447: in __enter__\n    original, local = self.get_original()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:1420: in get_original\n    raise AttributeError(\nE   AttributeError: <module 'core_infra.barcode_scanner_enhanced' from 'C:\\\\code\\\\babyshield-backend\\\\core_infra\\\\barcode_scanner_enhanced.py'> does not have the attribute 'python_barcode'\n============================== warnings summary ===============================\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_at from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute deleted_by from non-mapped class TestModel\n    return getattr(object, name, default)\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\compat.py:328: SAWarning: Unmanaged access of declarative attribute is_deleted from non-mapped class TestModel\n    return getattr(object, name, default)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nSKIPPED [16] tests\\\\unit\\\\test_barcode_service.py: \\u26a0\\ufe0f Test stubs - awaiting implementation. Skipped to prevent false coverage.\nSKIPPED [4] tests\\\\unit\\\\test_validators.py: \\u26a0\\ufe0f Test stubs - awaiting implementation. Skipped to prevent false coverage.\nFAILED tests/unit/test_barcode_scanner_enhanced.py::TestEnhancedBarcodeScanner::test_init_without_opencv\nFAILED tests/unit/test_barcode_scanner_enhanced.py::TestEnhancedBarcodeScanner::test_scan_with_pyzbar_success\nFAILED tests/unit/test_barcode_scanner_enhanced.py::TestEnhancedBarcodeScanner::test_scan_with_pyzbar_exception\nFAILED tests/unit/test_barcode_scanner_enhanced.py::TestEnhancedBarcodeScanner::test_generate_barcode_success\nFAILED tests/unit/test_barcode_scanner_enhanced.py::TestGlobalFunctions::test_scan_barcode_function\nFAILED tests/unit/test_barcode_scanner_enhanced.py::TestEdgeCases::test_generate_barcode_empty_data\n==== 6 failed, 29 passed, 20 skipped, 235 deselected, 3 warnings in 1.75s =====\n",
      "stderr": ""
    },
    "17. Parallel Tests (4 workers)": {
      "status": "failed",
      "returncode": 4,
      "stdout": "",
      "stderr": "C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\config\\__init__.py:331: PluggyTeardownRaisedWarning: A plugin raised an exception during an old-style hookwrapper teardown.\nPlugin: helpconfig, Hook: pytest_cmdline_parse\nUsageError: usage: pytest [options] [file_or_dir] [file_or_dir] [...]\npytest: error: unrecognized arguments: -n 4\n  inifile: C:\\code\\babyshield-backend\\pytest.ini\n  rootdir: C:\\code\\babyshield-backend\nFor more information see https://pluggy.readthedocs.io/en/stable/api_reference.html#pluggy.PluggyTeardownRaisedWarning\n  config = pluginmanager.hook.pytest_cmdline_parse(\nERROR: usage: pytest [options] [file_or_dir] [file_or_dir] [...]\npytest: error: unrecognized arguments: -n 4\n  inifile: C:\\code\\babyshield-backend\\pytest.ini\n  rootdir: C:\\code\\babyshield-backend\n\n"
    },
    "18. Strict Mode Tests": {
      "status": "failed",
      "returncode": 2,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0\nrootdir: C:\\code\\babyshield-backend\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, hypothesis-6.138.15, asyncio-0.21.1, cov-4.1.0, httpx-0.25.0, subtests-0.14.2, schemathesis-4.1.4\nasyncio: mode=strict\ncollected 269 items / 1 error\n\n=================================== ERRORS ====================================\n_______________ ERROR collecting tests/unit/test_chat_memory.py _______________\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\runner.py:341: in from_call\n    result: Optional[TResult] = func()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\runner.py:372: in <lambda>\n    call = CallInfo.from_call(lambda: list(collector.collect()), \"collect\")\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\python.py:531: in collect\n    self._inject_setup_module_fixture()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\python.py:545: in _inject_setup_module_fixture\n    self.obj, (\"setUpModule\", \"setup_module\")\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\python.py:310: in obj\n    self._obj = obj = self._getobj()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\python.py:528: in _getobj\n    return self._importtestmodule()\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\python.py:617: in _importtestmodule\n    mod = import_path(self.path, mode=importmode, root=self.config.rootpath)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\pathlib.py:567: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\importlib\\__init__.py:126: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n<frozen importlib._bootstrap>:1050: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1027: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:688: in _load_unlocked\n    ???\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\unit\\test_chat_memory.py:11: in <module>\n    from api.models.chat_memory import (\napi\\models\\__init__.py:5: in <module>\n    from .search_validation import (\napi\\models\\search_validation.py:22: in <module>\n    class SecureAdvancedSearchRequest(BaseModel):\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_model_construction.py:90: in __new__\n    config_wrapper = ConfigWrapper.for_model(bases, namespace, kwargs)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_config.py:120: in for_model\n    config_from_namespace = config_dict_from_namespace or prepare_config(config_class_from_namespace)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_config.py:271: in prepare_config\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\nE   pydantic.warnings.PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/\n=========================== short test summary info ===========================\nERROR tests/unit/test_chat_memory.py - pydantic.warnings.PydanticDeprecatedSi...\n!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n============================== 1 error in 1.33s ===============================\n",
      "stderr": ""
    },
    "19. Doctest Validation": {
      "status": "failed",
      "returncode": 2,
      "stdout": "ll(lambda: list(collector.collect()), \"collect\")\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\doctest.py:567: in collect\n    module = import_path(\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\_pytest\\pathlib.py:567: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\importlib\\__init__.py:126: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n<frozen importlib._bootstrap>:1050: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1027: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:688: in _load_unlocked\n    ???\n<frozen importlib._bootstrap_external>:883: in exec_module\n    ???\n<frozen importlib._bootstrap>:241: in _call_with_frames_removed\n    ???\ncore_infra\\mcp_router_service\\main.py:38: in <module>\n    sys.exit(f\"Import failure: {e}. MCPRouterService cannot start.\")\nE   SystemExit: Import failure: cannot import name 'discovery' from 'core_infra.mcp_router_service' (C:\\code\\babyshield-backend\\core_infra\\mcp_router_service\\__init__.py). MCPRouterService cannot start.\n------------------------------- Captured stdout -------------------------------\n2025-10-09 14:45:55 | \u001b[33mWARNING\u001b[0m | MCPRouterService_Bootstrap | .env file not found at C:\\code\\babyshield-backend\\.env. Service may rely on environment variables being set externally.\n2025-10-09 14:45:55 | \u001b[32mINFO\u001b[0m | MCP_Router_Service   | State: In-memory active connections dictionary initialized.\n2025-10-09 14:45:55 | \u001b[32mINFO\u001b[0m | MCP_Router_Service   | State: In-memory active workflows dictionary initialized.\n2025-10-09 14:45:55 | \u001b[32mINFO\u001b[0m | MCP_Router_Service   | State module loaded and functions defined.\n2025-10-09 14:45:55 | \u001b[35mCRITICAL\u001b[0m | MCPRouterService_Bootstrap | CRITICAL IMPORT ERROR: Failed to import local modules: cannot import name 'discovery' from 'core_infra.mcp_router_service' (C:\\code\\babyshield-backend\\core_infra\\mcp_router_service\\__init__.py). Check module structure, PYTHONPATH, or if running from the correct directory.\nTraceback (most recent call last):\n  File \"C:\\code\\babyshield-backend\\core_infra\\mcp_router_service\\main.py\", line 33, in <module>\n    from . import discovery\nImportError: cannot import name 'discovery' from 'core_infra.mcp_router_service' (C:\\code\\babyshield-backend\\core_infra\\mcp_router_service\\__init__.py)\n============================== warnings summary ===============================\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:184: UserWarning: Field name \"schema\" shadows an attribute in parent \"BaseModel\"; \n    warnings.warn(\n\n..\\..\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:149\n  C:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\_internal\\_fields.py:149: UserWarning: Field \"model_number\" has conflict with protected namespace \"model_\".\n  \n  You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR api/baby_features_endpoints.py - FileNotFoundError: Could not find modu...\nERROR api/main_observability_example.py - ModuleNotFoundError: No module name...\nERROR api/observability_integration.py - ModuleNotFoundError: No module named...\nERROR api/pagination_cache_integration.py - ModuleNotFoundError: No module na...\nERROR api/rate_limiting.py - ModuleNotFoundError: No module named 'fastapi_li...\nERROR api/safety_reports_endpoints.py - FileNotFoundError: Could not find mod...\nERROR api/routers/analytics.py - _pytest.pathlib.ImportPathMismatchError: ('a...\nERROR api/routes/__init__.py - ModuleNotFoundError: No module named 'fastapi_...\nERROR api/routes/admin.py - ModuleNotFoundError: No module named 'fastapi_lim...\nERROR api/routes/admin_privacy.py - ModuleNotFoundError: No module named 'fas...\nERROR api/routes/privacy.py - ModuleNotFoundError: No module named 'fastapi_l...\nERROR api/services/chat_tools_real.py - ModuleNotFoundError: No module named ...\nERROR core_infra/circuit_breaker.py - ModuleNotFoundError: No module named 'p...\nERROR core_infra/enhanced_memory_manager.py - ModuleNotFoundError: No module ...\nERROR core_infra/memory_manager.py - ModuleNotFoundError: No module named 'ch...\nERROR core_infra/secure_database.py - ValueError: No database URL configured ...\nERROR core_infra/mcp_router_service/main.py - SystemExit: Import failure: can...\n!!!!!!!!!!!!!!!!!! Interrupted: 17 errors during collection !!!!!!!!!!!!!!!!!!!\n======================= 2 warnings, 17 errors in 6.30s ========================\n",
      "stderr": ""
    },
    "20. Type Checking (mypy)": {
      "status": "failed",
      "returncode": 1,
      "stdout": "t_mobile_stats(*args: Any, **kwargs: Any) -> Any\napi\\main_babyshield.py:225: error: All conditional function variants must have identical signatures  [misc]\napi\\main_babyshield.py:225: note: Original:\napi\\main_babyshield.py:225: note:     def get_memory_stats() -> Any\napi\\main_babyshield.py:225: note: Redefinition:\napi\\main_babyshield.py:225: note:     def get_memory_stats(*args: Any, **kwargs: Any) -> Any\napi\\main_babyshield.py:229: error: All conditional function variants must have identical signatures  [misc]\napi\\main_babyshield.py:229: note: Original:\napi\\main_babyshield.py:229: note:     def optimize_memory() -> Any\napi\\main_babyshield.py:229: note: Redefinition:\napi\\main_babyshield.py:229: note:     def optimize_memory(*args: Any, **kwargs: Any) -> Any\napi\\main_babyshield.py:237: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:3221: error: Name \"ultra_fast_check\" already defined (possibly by an import)  [no-redef]\nC:\\Users\\rossd\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydantic\\fields.py:673: note: \"Field\" defined here\napi\\main_babyshield.py:238: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:239: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:240: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:241: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:250: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:251: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:252: error: Unexpected keyword argument \"example\" for \"Field\"; did you mean \"examples\"?  [call-arg]\napi\\main_babyshield.py:330: error: Unexpected keyword argument \"min_items\" for \"Field\"  [call-arg]\napi\\main_babyshield.py:330: error: Unexpected keyword argument \"max_items\" for \"Field\"  [call-arg]\napi\\main_babyshield.py:460: error: Cannot assign to a method  [method-assign]\napi\\main_babyshield.py:753: error: Item \"None\" of \"Address | None\" has no attribute \"host\"  [union-attr]\napi\\main_babyshield.py:793: error: Item \"None\" of \"Address | None\" has no attribute \"host\"  [union-attr]\napi\\main_babyshield.py:796: error: Item \"None\" of \"Address | None\" has no attribute \"host\"  [union-attr]\napi\\main_babyshield.py:964: error: Incompatible types in assignment (expression has type \"None\", variable has type \"BabyShieldCommanderLogic\")  [assignment]\napi\\main_babyshield.py:1513: error: Incompatible import of \"custom_openapi\" (imported name has type \"Callable[[FastAPI], Any]\", local name has type \"Callable[[], Any]\")  [assignment]\napi\\main_babyshield.py:1514: error: Cannot assign to a method  [method-assign]\napi\\main_babyshield.py:1514: error: Too many arguments for \"custom_openapi\"  [call-arg]\napi\\main_babyshield.py:2387: error: Argument 4 to \"calculate_suggestion_score\" has incompatible type \"str | None\"; expected \"str\"  [arg-type]\napi\\main_babyshield.py:2503: error: Argument \"key\" to \"sort\" of \"list\" has incompatible type \"Callable[[dict[str, object]], object]\"; expected \"Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]\"  [arg-type]\napi\\main_babyshield.py:2503: error: Incompatible return value type (got \"object\", expected \"SupportsDunderLT[Any] | SupportsDunderGT[Any]\")  [return-value]\napi\\main_babyshield.py:2775: error: Missing named argument \"product_name\" for \"SafetyCheckRequest\"  [call-arg]\napi\\main_babyshield.py:2775: error: Missing named argument \"check_pregnancy\" for \"SafetyCheckRequest\"  [call-arg]\napi\\main_babyshield.py:2775: error: Missing named argument \"pregnancy_trimester\" for \"SafetyCheckRequest\"  [call-arg]\napi\\main_babyshield.py:2775: error: Missing named argument \"check_allergies\" for \"SafetyCheckRequest\"  [call-arg]\napi\\main_babyshield.py:3146: error: Missing named argument \"product_name\" for \"SafetyCheckRequest\"  [call-arg]\napi\\main_babyshield.py:3492: error: Incompatible types in assignment (expression has type \"HealthCheckWrapper\", variable has type \"FastAPI\")  [assignment]\napi\\services\\chat_tools_real.py:204: error: Argument 1 to \"join\" of \"str\" has incompatible type \"list[object]\"; expected \"Iterable[str]\"  [arg-type]\napi\\services\\chat_tools_real.py:242: error: Argument 1 to \"append\" of \"list\" has incompatible type \"ColumnElement[bool]\"; expected \"BinaryExpression[bool]\"  [arg-type]\napi\\services\\chat_tools_real.py:244: error: Argument 1 to \"append\" of \"list\" has incompatible type \"ColumnElement[bool]\"; expected \"BinaryExpression[bool]\"  [arg-type]\napi\\services\\chat_tools_real.py:266: error: Argument \"recalls\" to \"RecallDetailsOut\" has incompatible type \"list[dict[str, Any]]\"; expected \"list[RecallRecord]\"  [arg-type]\n",
      "stderr": ""
    }
  }
}