# Azure Production Environment Variables
# Copy this file to .env.azure and fill in your actual Azure credentials
# DO NOT commit .env.azure with real secrets!
#
# Usage: docker-compose -f docker-compose.azure.yml --env-file .env.azure up -d

# ==================== Azure PostgreSQL ====================
# Hostname of your Azure PostgreSQL server (e.g., psql-eastus2-dev.postgres.database.azure.com)
AZURE_PG_HOST=your-postgres-server.postgres.database.azure.com

# PostgreSQL database name
AZURE_PG_DATABASE=babyshield-prod-db

# PostgreSQL username
AZURE_PG_USER=pgadmin

# PostgreSQL password - URL-ENCODED version required!
# If your password contains special characters, you MUST URL-encode them:
#   ( = %28
#   ) = %29
#   * = %2A
#   ? = %3F
#   @ = %40
#   # = %23
#   & = %26
#   = = %3D
#   + = %2B
#   space = %20
#
# Example:
#   Original password: LWJE6fTl(At*E)?c
#   URL-encoded:       LWJE6fTl%28At%2AE%29%3Fc
#
# Use an online URL encoder or Python:
#   python -c "import urllib.parse; print(urllib.parse.quote('YOUR_PASSWORD', safe=''))"
#
AZURE_PG_PASSWORD_ENCODED=YOUR_URL_ENCODED_PASSWORD_HERE

# ==================== Azure Redis Cache ====================
# Hostname of your Azure Redis Cache (e.g., redis-eastus2-dev.redis.cache.windows.net)
AZURE_REDIS_HOST=your-redis-cache.redis.cache.windows.net

# Azure Redis access key (found in Azure Portal > Your Redis > Access keys)
# This is the PRIMARY or SECONDARY key
AZURE_REDIS_KEY=YOUR_REDIS_ACCESS_KEY_HERE

# ==================== Optional: Visual Agent (Image Processing) ====================
# Only needed if you uncomment the visual-worker service in docker-compose.azure.yml

# AWS credentials for S3 image storage (if using visual recognition features)
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=us-east-1
S3_BUCKET=babyshield-images

# ==================== How to Get These Values ====================
#
# Azure PostgreSQL:
# 1. Go to Azure Portal: https://portal.azure.com
# 2. Find your PostgreSQL server resource
# 3. Click "Connection strings" in the left menu
# 4. Copy the values from the connection string
#
# Azure Redis:
# 1. Go to Azure Portal: https://portal.azure.com
# 2. Find your Redis Cache resource
# 3. Click "Access keys" in the left menu
# 4. Copy the "Primary connection string" or just the hostname and primary key
#
# Password URL Encoding:
# Run this Python command to encode your password:
#   python -c "import urllib.parse; print(urllib.parse.quote('YOUR_PASSWORD', safe=''))"
#
# ==================== Security Checklist ====================
# ✅ Copy this file to .env.azure (not tracked by git)
# ✅ Fill in real values in .env.azure
# ✅ Verify .env.azure is in .gitignore
# ✅ NEVER commit .env.azure to git
# ✅ URL-encode the PostgreSQL password
# ✅ Use TLS for Redis (rediss:// on port 6380)
# ✅ Test connection before deploying to production
